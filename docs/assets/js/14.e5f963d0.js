(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{706:function(e,a,s){"use strict";s.r(a);var t=s(62),n=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h3",{attrs:{id:"必要软件环境"}},[e._v("必要软件环境 "),a("a",{staticClass:"header-anchor",attrs:{href:"#必要软件环境"}},[e._v("#")])]),e._v(" "),a("a-alert",{attrs:{type:"warning","show-icon":""}},[a("span",{attrs:{slot:"message"},slot:"message"},[e._v("\n     务必保证至少需要给 docker 分配：1 核 CPU 以及 4G 以上的运行内存！\n  ")])]),e._v(" "),a("p"),e._v(" "),a("ul",[a("li",[a("p",[e._v("JDK : 推荐使用 "),a("code",[e._v("Oracle JDK 1.8")]),e._v(" 或者 "),a("code",[e._v("OpenJDK8")]),e._v("，理论来说其他版本也行；")])]),e._v(" "),a("li",[a("p",[e._v("Maven : 推荐使用 "),a("code",[e._v("Maven 3.8")]),e._v(" ，理论来说其他版本也行；")])]),e._v(" "),a("li",[a("p",[e._v("IDE : "),a("code",[e._v("IntelliJ IDEA")]),e._v(" 或者 "),a("code",[e._v("Eclipse")]),e._v("，理论来说其他 Java IDE 也行；")])]),e._v(" "),a("li",[a("p",[e._v("Docker : 需要提供 "),a("code",[e._v("docker")]),e._v(" 和 "),a("code",[e._v("docker-compose")]),e._v(" 指令，至少需要给 "),a("code",[e._v("docker")]),e._v(" 分配 "),a("code",[e._v("4G")]),e._v(" 的运行内存，建议配置国内镜像加速，下载镜像速度会快一些。")])])]),e._v(" "),a("h3",{attrs:{id:"hosts-配置"}},[e._v("Hosts 配置 "),a("a",{staticClass:"header-anchor",attrs:{href:"#hosts-配置"}},[e._v("#")])]),e._v(" "),a("a-alert",{attrs:{type:"info","show-icon":""}},[a("span",{attrs:{slot:"message"},slot:"message"},[e._v("\n    该步骤 "),a("u",[e._v("仅在本地开发电脑")]),e._v(" 上进行配置，如果部署生产环境无需配置\n  ")])]),e._v(" "),a("p"),e._v(" "),a("ul",[a("li",[a("p",[e._v("Windows（需要使用管理员权限）："),a("code",[e._v("c:\\windows\\system32\\drivers\\etc\\hosts")])])]),e._v(" "),a("li",[a("p",[e._v("Linux："),a("code",[e._v("/etc/hosts")])])]),e._v(" "),a("li",[a("p",[e._v("在 hosts 文件中添加以下内容，如果你在多台机器配置，可以将 "),a("code",[e._v("127.0.0.1")]),e._v(" 替换成具体具体机器的 "),a("code",[e._v("IP")]),e._v("：")])])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Added by DC3")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3.com\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-mysql\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-redis\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-mongo\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-opentsdb\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-elasticsearch\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-rabbitmq\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-emqx\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-nginx\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-influx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# dev")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-center-register\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-center-auth\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-center-manager\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-center-data\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-gateway\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# sponsor")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-register\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-auth\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-manager\n"),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1       dc3-data\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# End DC3")]),e._v("\n")])])]),a("h3",{attrs:{id:"基础服务"}},[e._v("基础服务 "),a("a",{staticClass:"header-anchor",attrs:{href:"#基础服务"}},[e._v("#")])]),e._v(" "),a("blockquote",[a("p",[a("strong",[e._v("说明：")]),e._v(" 该步骤会启动必要的依赖服务 MySQL、MongoDB、Redis、RabbitMQ，建议直接在 docker 中启动，简单快捷")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" iot-dc3\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 提示：如果你在使用 mvn clean -U package 时失败，请使用以下指令")]),e._v("\nmvn "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" dc3/dependencies/maven/settings.xml clean "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-U")]),e._v(" package\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" dc3\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" build mysql redis mongo rabbitmq\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" mysql redis mongo rabbitmq\n")])])]),a("h3",{attrs:{id:"导入项目"}},[e._v("导入项目 "),a("a",{staticClass:"header-anchor",attrs:{href:"#导入项目"}},[e._v("#")])]),e._v(" "),a("blockquote",[a("p",[a("strong",[e._v("说明")]),e._v("：务必使用 Maven 方式导入项目")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/idea/import-dc3.gif",alt:"import-dc3"}})]),e._v(" "),a("h3",{attrs:{id:"启动-register、auth、manager、data、gateway-服务"}},[e._v("启动 Register、Auth、Manager、Data、Gateway 服务 "),a("a",{staticClass:"header-anchor",attrs:{href:"#启动-register、auth、manager、data、gateway-服务"}},[e._v("#")])]),e._v(" "),a("blockquote",[a("p",[a("strong",[e._v("注意")]),e._v("：在启动 "),a("code",[e._v("dc3-center-auth")]),e._v("、 "),a("code",[e._v("dc3-center-manager")]),e._v(" 、 "),a("code",[e._v("dc3-center-data")]),e._v(" 的时候由于开启了 "),a("code",[e._v("ASPECTJ")]),e._v(" ，所以需要配置 "),a("code",[e._v("-javaagent:dc3/lib/aspectjweaver-1.9.5.jar")])])]),e._v(" "),a("p",[e._v("在 Idea 中依次启动：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("dc3-center-register")])]),e._v(" "),a("li",[a("code",[e._v("dc3-center-auth")])]),e._v(" "),a("li",[a("code",[e._v("dc3-center-manager")])]),e._v(" "),a("li",[a("code",[e._v("dc3-center-data")])]),e._v(" "),a("li",[a("code",[e._v("dc3-center-gateway")])])]),e._v(" "),a("p",[a("img",{attrs:{src:"/assets/images/idea/aspectj.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"启动待开发的-驱动-程序"}},[e._v("启动待开发的 驱动 程序 "),a("a",{staticClass:"header-anchor",attrs:{href:"#启动待开发的-驱动-程序"}},[e._v("#")])]),e._v(" "),a("p",[e._v("根据实际情况，启动 、开发 驱动程序")]),e._v(" "),a("p",[e._v("位置：dc3-driver/")]),e._v(" "),a("p",[e._v("目前已支持的驱动，需要根据实际项目情况，适当微调，也可以仿照现有的驱动开发其他的驱动模块：")]),e._v(" "),a("ul",[a("li",[e._v("plcs7")]),e._v(" "),a("li",[e._v("socket（client 模式、server 模式）")]),e._v(" "),a("li",[e._v("mqtt")]),e._v(" "),a("li",[e._v("opcda")]),e._v(" "),a("li",[e._v("opcua")]),e._v(" "),a("li",[e._v("modbus-tcp")])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);